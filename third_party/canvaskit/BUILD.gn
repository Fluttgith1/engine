# Copyright 2022 The Flutter Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/toolchain/wasm.gni")

# This toolchain is only to be used by the canvaskit group below.
wasm_toolchain("canvaskit") {
  # Prevent accidental use of this toolchain.
  assert(target_name == "canvaskit", "Only :canvaskit can use this toolchain.")
  extra_toolchain_args = {
    skia_use_icu = true
    skia_use_client_icu = false
  }
}

group("canvaskit") {
  visibility = [ "//flutter/web_sdk:*" ]
  public_deps = [ "//third_party/skia/modules/canvaskit(:canvaskit)" ]
}

# This toolchain is only to be used by the canvaskit_lite group below.
wasm_toolchain("canvaskit_lite") {
  # Prevent accidental use of this toolchain.
  assert(target_name == "canvaskit_lite",
         "Only :canvaskit_lite can use this toolchain.")
  extra_toolchain_args = {
    skia_use_icu = false
    skia_use_client_icu = true
  }
}

group("canvaskit_lite") {
  visibility = [ "//flutter/web_sdk:*" ]
  public_deps = [ "//third_party/skia/modules/canvaskit(:canvaskit_lite)" ]
}

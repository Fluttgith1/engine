{
    "builds": [
        {
            "archives": [
                {
                    "name": "wasm_release",
                    "base_path": "out/wasm_release/zip_archives/",
                    "type": "gcs",
                    "include_paths": [
                        "out/wasm_release/zip_archives/flutter-web-sdk.zip"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux",
                "cores=32"
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "download_emsdk": true
            },
            "gn": [
                "--web",
                "--runtime-mode=release",
                "--no-goma"
            ],
            "name": "wasm_release",
            "ninja": {
                "config": "wasm_release",
                "targets": [
                    "flutter/web_sdk:flutter_web_sdk_archive"
                ]
            },
            "tests": []
        },
        {
            "drone_dimensions": [
                "device_type=none",
                "os=Linux",
                "cores=32"
            ],
            "name": "web_tests",
            "generators": {
                "tasks": [
                    {
                        "name": "check licenses",
                        "parameters": [
                            "check-licenses"
                        ],
                        "scripts": [
                            "flutter/lib/web_ui/dev/felt"
                        ]
                    },
                    {
                        "name": "web engine analysis",
                        "parameters": [
                            "analyze"
                        ],
                        "scripts": [
                            "flutter/lib/web_ui/dev/felt"
                        ]
                    },
                    {
                        "name": "compile web_tests",
                        "parameters": [
                            "test",
                            "--compile"
                        ],
                        "scripts": [
                            "flutter/lib/web_ui/dev/felt"
                        ]
                    }
                ]
            },
            "tests": []
        }
    ],
    "generators": {},
    "tests": [
        {
            "name": "linux chrome dart2js web tests",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [ "wasm_release", "web_tests" ],
            "test_dependencies": [
                {
                "dependency": "chrome_and_driver",
                "version": "version:111.0"
                },
                {
                    "dependency": "goldctl",
                    "version": "git_revision:3a77d0b12c697a840ca0c7705208e8622dc94603"
                }
            ],
            "recipe": "engine_v2/tester_engine",
            "gclient_variables": {
                "download_android_deps": false
            },
            "tasks": [
                {
                    "name": "linux chrome js tests",
                    "parameters": [
                        "test",
                        "--run",
                        "--copy-artifacts",
                        "--suite=chrome-dart2js-html-engine",
                        "--suite=chrome-dart2js-html-html",
                        "--suite=chrome-dart2js-html-ui",
                        "--suite=chrome-dart2js-canvaskit-canvaskit",
                        "--suite=chrome-dart2js-canvaskit-ui",
                        "--suite=chrome-dart2js-skwasm-skwasm_stub",
                        "--suite=chrome-full-dart2js-canvaskit-canvaskit",
                        "--suite=chrome-full-dart2js-canvaskit-ui"
                    ],
                    "script": "flutter/lib/web_ui/dev/felt"
                }
            ]
        }
    ]
}

{
    "builds": [
        {
            "name": "web_tests/artifacts",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux",
                "cores=32"
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "download_emsdk": true
            },
            "gn": [
                "--web",
                "--runtime-mode=release",
                "--no-goma"
            ],
            "ninja": {
                "config": "wasm_release",
                "targets": [
                    "flutter/web_sdk:flutter_web_sdk_archive"
                ]
            },
            "archives": [
                {
                    "name": "wasm_release",
                    "base_path": "out/wasm_release/zip_archives/",
                    "type": "gcs",
                    "include_paths": [
                        "out/wasm_release/zip_archives/flutter-web-sdk.zip"
                    ]
                }
            ]
        },
        {
            "archives": [
                {
                    "name": "ci/host_debug",
                    "base_path": "out/ci/host_debug/zip_archives/",
                    "type": "gcs",
                    "include_paths": [
                        "out/ci/host_debug/zip_archives/linux-x64/artifacts.zip",
                        "out/ci/host_debug/zip_archives/linux-x64/linux-x64-embedder.zip",
                        "out/ci/host_debug/zip_archives/linux-x64/font-subset.zip",
                        "out/ci/host_debug/zip_archives/flutter_patched_sdk.zip",
                        "out/ci/host_debug/zip_archives/dart-sdk-linux-x64.zip"
                    ]
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "use_rbe": true
            },
            "gn": [
                "--target-dir",
                "ci/host_debug",
                "--runtime-mode",
                "debug",
                "--prebuilt-dart-sdk",
                "--build-embedder-examples",
                "--rbe",
                "--no-goma"
            ],
            "name": "ci/host_debug",
            "description": "Produces debug mode Linux host-side tooling and builds host-side unit tests for Linux.",
            "ninja": {
                "config": "ci/host_debug",
                "targets": [
                    "flutter/build/archives:artifacts",
                    "flutter/build/archives:dart_sdk_archive",
                    "flutter/build/archives:embedder",
                    "flutter/build/archives:flutter_patched_sdk",
                    "flutter/build/dart:copy_dart_sdk",
                    "flutter/tools/font_subset"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "ci/android_debug",
                    "type": "gcs",
                    "base_path": "out/ci/android_debug/zip_archives/",
                    "include_paths": [
                        "out/ci/android_debug/zip_archives/android-arm/artifacts.zip",
                        "out/ci/android_debug/zip_archives/android-arm/symbols.zip",
                        "out/ci/android_debug/zip_archives/download.flutter.io",
                        "out/ci/android_debug/zip_archives/sky_engine.zip",
                        "out/ci/android_debug/zip_archives/android-javadoc.zip"
                    ]
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "use_rbe": true
            },
            "gn": [
                "--target-dir",
                "ci/android_debug",
                "--android",
                "--android-cpu=arm",
                "--no-lto",
                "--rbe",
                "--no-goma"
            ],
            "name": "ci/android_debug",
            "description": "Produces debug mode artifacts to target 32-bit arm Android from a Linux host.",
            "ninja": {
                "config": "ci/android_debug",
                "targets": [
                    "flutter",
                    "flutter/sky/dist:zip_old_location",
                    "flutter/shell/platform/android:embedding_jars",
                    "flutter/shell/platform/android:abi_jars"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "ci/host_release",
                    "base_path": "out/ci/host_release/zip_archives/",
                    "type": "gcs",
                    "include_paths": [
                        "out/ci/host_release/zip_archives/flutter_patched_sdk_product.zip"
                    ]
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                {
                    "dependency": "goldctl",
                    "version": "git_revision:720a542f6fe4f92922c3b8f0fdcc4d2ac6bb83cd"
                }
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "use_rbe": true
            },
            "gn": [
                "--target-dir",
                "ci/host_release",
                "--runtime-mode",
                "release",
                "--prebuilt-dart-sdk",
                "--build-embedder-examples",
                "--rbe",
                "--no-goma"
            ],
            "name": "ci/host_release",
            "description": "Produces release mode Linux host-side tooling and builds host-side unit tests and benchmarks for Linux.",
            "ninja": {
                "config": "ci/host_release",
                "targets": [
                    "flutter/build/dart:copy_dart_sdk",
                    "flutter/tools/path_ops",
                    "flutter/build/archives:flutter_patched_sdk"
                ]
            }
        }
    ],
    "tests": [
        {
            "name": "web_tests-0",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "0"
        },
        {
            "name": "web_tests-1",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "1"
        },
        {
            "name": "web_tests-2",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "2"
        },
        {
            "name": "web_tests-3",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "3"
        },
        {
            "name": "web_tests-4",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "4"
        },
        {
            "name": "web_tests-5",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "5"
        },
        {
            "name": "web_tests-6",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "6"
        },
        {
            "name": "web_tests-7_last",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
                "ci/host_debug",
                "ci/host_release",
                "web_tests/artifacts"
            ],
            "test_dependencies": [
                {
                    "dependency": "chrome_and_driver",
                    "version": "version:119.0.6045.9"
                },
                {
                    "dependency": "curl",
                    "version": "version:7.64.0"
                }
            ],
            "shard": "7_last"
        }
    ]
}

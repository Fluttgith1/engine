{
    "builds": [
        {
	    "archives": [
                {
                    "name": "ci/host_debug",
                    "base_path": "out/ci/host_debug/zip_archives/",
                    "type": "gcs",
                    "include_paths": [
                        "out/ci/host_debug/zip_archives/linux-x64/artifacts.zip",
                        "out/ci/host_debug/zip_archives/linux-x64/linux-x64-embedder.zip",
                        "out/ci/host_debug/zip_archives/linux-x64/font-subset.zip",
                        "out/ci/host_debug/zip_archives/flutter_patched_sdk.zip",
                        "out/ci/host_debug/zip_archives/dart-sdk-linux-x64.zip"
                    ]
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "use_rbe": true
            },
            "gn": [
                "--target-dir",
                "ci/host_debug",
                "--runtime-mode",
                "debug",
                "--prebuilt-dart-sdk",
                "--build-embedder-examples",
                "--rbe",
                "--no-goma"
            ],
            "name": "ci/host_debug",
            "description": "Produces debug mode Linux host-side tooling and builds host-side unit tests for Linux.",
            "ninja": {
                "config": "ci/host_debug",
                "targets": [
                    "flutter:unittests",
                    "flutter/build/archives:artifacts",
                    "flutter/build/archives:dart_sdk_archive",
                    "flutter/build/archives:embedder",
                    "flutter/build/archives:flutter_patched_sdk",
                    "flutter/build/dart:copy_dart_sdk",
                    "flutter/tools/font_subset"
                ]
            }
        },
	{
            "archives": [
                {
                    "name": "ci/android_debug",
                    "type": "gcs",
                    "base_path": "out/ci/android_debug/zip_archives/",
                    "include_paths": [
                        "out/ci/android_debug/zip_archives/android-arm/artifacts.zip",
                        "out/ci/android_debug/zip_archives/android-arm/symbols.zip",
                        "out/ci/android_debug/zip_archives/download.flutter.io",
                        "out/ci/android_debug/zip_archives/sky_engine.zip",
                        "out/ci/android_debug/zip_archives/android-javadoc.zip"
                    ]
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "use_rbe": true
            },
            "gn": [
                "--target-dir",
                "ci/android_debug",
                "--android",
                "--android-cpu=arm",
                "--no-lto",
                "--rbe",
                "--no-goma"
            ],
            "name": "ci/android_debug",
            "description": "Produces debug mode artifacts to target 32-bit arm Android from a Linux host.",
            "ninja": {
                "config": "ci/android_debug",
                "targets": [
                    "flutter",
                    "flutter/sky/dist:zip_old_location",
                    "flutter/shell/platform/android:embedding_jars",
                    "flutter/shell/platform/android:abi_jars",
                    "flutter/shell/platform/android:robolectric_tests"
                ]
            }
        }
    ],
    "tests": [
        {
            "name": "test: lint host_debug widgets",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
		"ci/host_debug"
            ],
            "shard": "framework_tests",
            "subshard": "widgets"
        },
        {
            "name": "test: lint host_debug library",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
		"ci/host_debug"
            ],
            "_comment": "shard/subshard strings are defined in framework test runner: dev/bots/test.dart, and are consistent with properties defined in framework .ciyaml targets",
            "shard": "framework_tests",
            "subshard": "libraries"
        },
        {
            "name": "test: flutter analyze",
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "dependencies": [
                "ci/android_debug",
		"ci/host_debug"
            ],
            "_comment": "validation strings are consistent with properties defined in framework .ciyaml targets",
            "validation": "analyze",
            "validation_name": "Analyze"
        }
    ]
}

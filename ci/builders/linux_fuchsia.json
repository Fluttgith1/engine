{
    "builds": [
        {
            "archives": [
                {
                    "name": "fuchsia_profile_arm64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_profile_arm64/",
                    "include_paths": [
			"out/fuchsia_profile_arm64/platform_strong.dill",
			"out/fuchsia_profile_arm64/vm_outline_strong.dill",
			"out/fuchsia_profile_arm64/dart_aot_runner-0.far",
			"out/fuchsia_profile_arm64/dart_jit_runner-0.far",
			"out/fuchsia_profile_arm64/flutter_aot_runner-0.far",
			"out/fuchsia_profile_arm64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "arm64",
                "--runtime-mode",
                "profile"
            ],
            "name": "fuchsia_profile_arm64",
            "ninja": {
                "config": "fuchsia_profile_arm64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "fuchsia_release_arm64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_release_arm64/",
                    "include_paths": [
			"out/fuchsia_release_arm64/platform_strong.dill",
			"out/fuchsia_release_arm64/vm_outline_strong.dill",
			"out/fuchsia_release_arm64/dart_aot_runner-0.far",
			"out/fuchsia_release_arm64/dart_jit_runner-0.far",
			"out/fuchsia_release_arm64/flutter_aot_runner-0.far",
			"out/fuchsia_release_arm64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "arm64",
                "--runtime-mode",
                "release"
            ],
            "name": "fuchsia_release_arm64",
            "ninja": {
                "config": "fuchsia_release_arm64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "fuchsia_debug_arm64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_debug_arm64/",
                    "include_paths": [
			"out/fuchsia_debug_arm64/platform_strong.dill",
			"out/fuchsia_debug_arm64/vm_outline_strong.dill",
			"out/fuchsia_debug_arm64/dart_aot_runner-0.far",
			"out/fuchsia_debug_arm64/dart_jit_runner-0.far",
			"out/fuchsia_debug_arm64/flutter_aot_runner-0.far",
			"out/fuchsia_debug_arm64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "arm64",
                "--runtime-mode",
                "debug",
                "--no-lto"
            ],
            "name": "fuchsia_debug_arm64",
            "ninja": {
                "config": "fuchsia_debug_arm64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia",
                    "fuchsia_tests"
                ]
            },
            "tests": [
                {
                    "name": "Upload to Symbol Server for arch: arm64",
                    "language": "python3",
                    "contexts": ["depot_tools_on_path"],
                    "script": "flutter/tools/fuchsia/upload_to_symbol_server.py",
                    "parameters": [
                        "--symbol-dir",
                        "out/fuchsia_debug_arm64/.build-id",
                        "--engine-version",
                        "${REVISION}",
                        "--upload"
                    ]
                }
            ]
        },
        {
            "archives": [
                {
                    "name": "fuchsia_profile_x64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_profile_x64/",
                    "include_paths": [
			"out/fuchsia_profile_x64/platform_strong.dill",
			"out/fuchsia_profile_x64/vm_outline_strong.dill",
			"out/fuchsia_profile_x64/dart_aot_runner-0.far",
			"out/fuchsia_profile_x64/dart_jit_runner-0.far",
			"out/fuchsia_profile_x64/flutter_aot_runner-0.far",
			"out/fuchsia_profile_x64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "x64",
                "--runtime-mode",
                "profile"
            ],
            "name": "fuchsia_profile_x64",
            "ninja": {
                "config": "fuchsia_profile_x64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "fuchsia_release_x64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_release_x64/",
                    "include_paths": [
			"out/fuchsia_release_x64/platform_strong.dill",
			"out/fuchsia_release_x64/vm_outline_strong.dill",
			"out/fuchsia_release_x64/dart_aot_runner-0.far",
			"out/fuchsia_release_x64/dart_jit_runner-0.far",
			"out/fuchsia_release_x64/flutter_aot_runner-0.far",
			"out/fuchsia_release_x64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "x64",
                "--runtime-mode",
                "release"
            ],
            "name": "fuchsia_release_x64",
            "ninja": {
                "config": "fuchsia_release_x64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia"
                ]
            }
        },
        {
            "archives": [
                {
                    "name": "fuchsia_debug_x64",
                    "type": "gcs",
                    "base_path": "out/fuchsia_debug_x64/",
                    "include_paths": [
			"out/fuchsia_debug_x64/platform_strong.dill",
			"out/fuchsia_debug_x64/vm_outline_strong.dill",
			"out/fuchsia_debug_x64/dart_aot_runner-0.far",
			"out/fuchsia_debug_x64/dart_jit_runner-0.far",
			"out/fuchsia_debug_x64/flutter_aot_runner-0.far",
			"out/fuchsia_debug_x64/flutter_jit_runner-0.far"
                    ],
                    "realm": "production"
                }
            ],
            "drone_dimensions": [
                "device_type=none",
                "kvm=1",
                "os=Linux"
            ],
            "gclient_variables": {
                "download_android_deps": false,
                "run_fuchsia_emu": true
            },
            "gn": [
                "--fuchsia",
                "--fuchsia-cpu",
                "x64",
                "--runtime-mode",
                "debug",
                "--no-lto"
            ],
            "name": "fuchsia_debug_x64",
            "ninja": {
                "config": "fuchsia_debug_x64",
                "targets": [
                    "flutter/shell/platform/fuchsia:fuchsia",
                    "fuchsia_tests"
                ]
            },
            "tests": [
                {
                    "name": "Upload to Symbol Server for arch: x64",
                    "language": "python3",
                    "contexts": ["depot_tools_on_path"],
                    "script": "flutter/tools/fuchsia/upload_to_symbol_server.py",
                    "parameters": [
                        "--symbol-dir",
                        "out/fuchsia_debug_x64/.build-id",
                        "--engine-version",
                        "${REVISION}",
                        "--upload"
                    ]
                },
                {
                    "name": "x64 emulator based tests",
                    "language": "python3",
                    "script": "flutter/tools/fuchsia/with_envs.py",
                    "parameters": [
                        "testing/fuchsia/run_tests.py"
                    ]
                }
            ]
        }
    ],
    "generators": {
        "tasks": [
            {
                "name": "Upload fuchsia artifacts",
                "parameters": [
                    "--engine-version",
                    "${REVISION}",
                    "--skip-build",
                    "--upload"
                ],
                "script": "flutter/tools/fuchsia/build_fuchsia_artifacts.py",
                "language": "python3"
            },
            {
                "name": "Upload to CIPD for arch: arm64",
                "parameters": [
                    "--engine-version",
                    "${REVISION}",
                    "--upload",
                    "--target-arch",
                    "arm64",
                    "--out-dir",
                    "${LUCI_CLEANUP}",
                    "--symbol-dirs",
                    "out/fuchsia_debug_arm64/.build-id",
                    "out/fuchsia_profile_arm64/.build-id",
                    "out/fuchsia_release_arm64/.build-id"
                ],
                "script": "flutter/tools/fuchsia/merge_and_upload_debug_symbols.py",
                "language": "python3"
            },
            {
                "name": "Upload to CIPD for arch: x64",
                "parameters": [
                    "--engine-version",
                    "${REVISION}",
                    "--upload",
                    "--target-arch",
                    "x64",
                    "--out-dir",
                    "${LUCI_CLEANUP}",
                    "--symbol-dirs",
                    "out/fuchsia_debug_x64/.build-id",
                    "out/fuchsia_profile_x64/.build-id",
                    "out/fuchsia_release_x64/.build-id"
                ],
                "script": "flutter/tools/fuchsia/merge_and_upload_debug_symbols.py",
                "language": "python3"
            },
            {
                "name": "Verify-export-symbols-release-binaries",
                "parameters": [
                    "src/out"
                ],
                "script": "flutter/testing/symbols/verify_exported.dart",
                "language": "dart"
            }
        ]
    }
}
